-module(math_test).

-include_lib("eunit/include/eunit.hrl").

linear_test() ->
    Linear1 = math_methods:linear_func(1, [[0, 0], [1.571, 1]]),
    Linear2 = math_methods:linear_func(0.5, [[0, 0], [1.571, 1]]),
    Linear3 = math_methods:linear_func(1, [[0, 1], [3.1415, 0]]),
    ?assertEqual(Linear1, [[0, 1, 2], [0.0, 0.6365372374283896, 1.2730744748567793]]),
    ?assertEqual(Linear2,
                 [[0, 0.5, 1.0, 1.5, 2.0],
                  [0.0,
                   0.3182686187141948,
                   0.6365372374283896,
                   0.9548058561425845,
                   1.2730744748567793]]),
    ?assertEqual(Linear3,
                 [[0, 1, 2, 3, 4],
                  [1.0,
                   0.6816807257679453,
                   0.3633614515358905,
                   0.04504217730383575,
                   -0.273277096928219]]).

lag_test() ->
    Lag1 = math_methods:lag_func(1, [[0, 0], [1.571, 1]]),
    Lag2 = math_methods:lag_func(0.5, [[0, 0], [1.571, 1]]),
    Lag3 = math_methods:lag_func(1, [[0, 1], [3.1415, 0]]),
    ?assertEqual(Lag1, [[0, 1, 2], [0.0, 0.6365372374283896, 1.2730744748567793]]),
    ?assertEqual(Lag2,
                 [[0, 0.5, 1.0, 1.5, 2.0],
                  [0.0,
                   0.3182686187141948,
                   0.6365372374283896,
                   0.9548058561425844,
                   1.2730744748567793]]),
    ?assertEqual(Lag3,
                 [[0, 1, 2, 3, 4],
                  [1.0,
                   0.6816807257679453,
                   0.36336145153589056,
                   0.0450421773038358,
                   -0.27327709692821894]]).

new_test() ->
    New1 = math_methods:new_func(2, 1, [[0, 0], [1.571, 1]]),
    New2 = math_methods:new_func(2, 0.5, [[0, 0], [1.571, 1]]),
    New3 = math_methods:new_func(2, 1, [[0, 1], [3.1415, 0]]),
    ?assertEqual(New1, [[0, 1, 2], [0.0, 0.6365372374283896, 1.2730744748567793]]),
    ?assertEqual(New2,
                 [[0, 0.5, 1.0, 1.5, 2.0],
                  [0.0,
                   0.3182686187141948,
                   0.6365372374283896,
                   0.9548058561425845,
                   1.2730744748567793]]),
    ?assertEqual(New3,
                 [[0, 1, 2, 3, 4],
                  [1.0,
                   0.6816807257679453,
                   0.3633614515358905,
                   0.04504217730383575,
                   -0.273277096928219]]).
